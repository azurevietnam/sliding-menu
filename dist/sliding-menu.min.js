!function(a){"use strict";var t=[];a.fn.slidingMenu=function(e){function n(t,e){var n;return n="#"+a(t).find('a[href="'+e+'"]').closest("ul").attr("id")}function i(t){var e=a("ul",t),i=[];return a(e).each(function(e,s){var l=a(s),d=l.prev(),c=r();if(1===d.length&&d.addClass("nav").attr("href","#menu-panel-"+c),l.attr("id","menu-panel-"+c),0===e)l.addClass("menu-panel-root");else{l.addClass("menu-panel");var f=a("<li></li>"),h=a("<a></a>").addClass("back").attr({href:n(t,"#menu-panel-"+c)});f.append(h),l.prepend(f)}i.push(s)}),i}function s(t,e){var n={id:"menu-panel-"+r(),children:[],root:e?!1:!0},i=[];return e&&n.children.push({styleClass:"back",href:"#"+e.id}),a(t).each(function(a,t){if(n.children.push(t),t.children){var e=s(t.children,n);t.href="#"+e[0].id,t.styleClass="nav",i=i.concat(e)}}),[n].concat(i)}function r(){var a;do a=Math.random().toString(36).substring(3,8);while(t.indexOf(a)>=0);return t.push(a),a}var l=a.extend({dataJSON:!1,initHref:!1,backLabel:"Back"},e);return this.each(function(){var t,e,r=this,d=a(r);if(!d.hasClass("sliding-menu")){t=l.dataJSON?s(l.dataJSON):i(d),d.empty().addClass("sliding-menu");var c;a(t).each(l.dataJSON?function(t,e){var n=a("<ul></ul>");e.root&&(c="#"+e.id),n.attr("id",e.id),n.addClass("menu-panel"),a(e.children).each(function(t,e){var i=a("<a></a>");i.attr("class",e.styleClass),i.attr("href",e.href),i.text(e.label);var s=a("<li></li>");s.append(i),n.append(s)}),d.append(n)}:function(t,e){var n=a(e);n.hasClass("menu-panel-root")&&(c="#"+n.attr("id")),d.append(e)}),c=a(c),c.addClass("menu-panel-root");var f=c;return d.height(c.height()),a("a",d).on("click",function(t){var e=a(this).attr("href"),n=a(this).text();if(l.initHref!==!1&&(f=a("#"+a(e).closest("ul").attr("id")),l.initHref=!1),0===e.indexOf("#menu-panel")){var i,s;t.preventDefault(),i=a(e),s=a(this).hasClass("back"),a(".back",i).text(l.backLabel===!0?n:l.backLabel),f.attr("id")!==i.attr("id")?(f.stop(!0,!0).animate({left:s?"100%":"-100%"},"fast"),i.stop(!0,!0).css("left",s?"-100%":"100%").animate({left:0},"fast"),d.stop(!0,!0).animate({height:i.height()},"fast")):(i.css({left:0}),d.height(i.height())),f=i}else d.find("li.active").removeClass("active"),a(this).closest("li").addClass("active")}),l.initHref!==!1?(e=d.find('a[href="'+l.initHref+'"]'),0!==e.length?(e.closest("li").addClass("active"),d.find('a[href="'+n(d,l.initHref)+'"]').trigger("click")):(l.initHref=!1,f.css("left",0))):f.css("left",0),this}})}}(jQuery);